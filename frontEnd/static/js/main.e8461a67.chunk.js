(this.webpackJsonpyoutubechat=this.webpackJsonpyoutubechat||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(51),o=n.n(r),a=(n(60),n(61),n(35),n(29)),l=n(2),i=n(30),j=n(32),u=n(52),d=n(9),b=(n(62),n(55)),h=n.n(b),m=n(33),x=n(53),O=n.n(x),f=n(1),p=Object(c.createContext)(),g=Object(c.createContext)(),v=Object(c.createContext)(),y=Object(c.createContext)(),A=Object(c.createContext)(),C=function(e){var t=Object(c.useState)({}),n=Object(d.a)(t,2),s=n[0],r=n[1],o=Object(c.useState)([]),a=Object(d.a)(o,2),l=a[0],i=a[1],j=Object(c.useState)([]),u=Object(d.a)(j,2),b=u[0],h=u[1],m=Object(c.useState)(!1),x=Object(d.a)(m,2),O=x[0],C=x[1],I=Object(c.useState)(""),N=Object(d.a)(I,2),w=N[0],E=N[1];return Object(f.jsx)(A.Provider,{value:{url:w,setUrl:E},children:Object(f.jsx)(y.Provider,{value:{playState:O,setplay:C},children:Object(f.jsx)(v.Provider,{value:{users:b,setUsers:h},children:Object(f.jsx)(g.Provider,{value:{messages:l,setMessages:i},children:Object(f.jsx)(p.Provider,{value:{clientInfo:s,setClientInfo:r},children:e.children})})})})})},I="newChatMessage",N=function(){var e=Object(c.useRef)(),t=Object(l.e)(),n=Object(c.useContext)(g),s=n.messages,r=n.setMessages,o=Object(c.useContext)(v).setUsers,a=Object(c.useContext)(y).setplay,i=Object(c.useContext)(A).setUrl;e.current=O()("/"),e.current.on("setUrl",(function(e){console.log(e),i((function(t){return e.url}))})),e.current.on("letIn",(function(e){console.log(e),o((function(t){return[].concat(Object(m.a)(t),[e])})),t.push("/home")})),e.current.on(I,(function(e){console.log(e),r((function(t){return[].concat(Object(m.a)(t),[e])})),console.log(s)})),e.current.on("playVideo",(function(e){console.log(e.state),a(e.state)}));return{sendMessage:function(t){e.current.emit(I,t)},joinRoom:function(t){return new Promise((function(n,c){e.current.emit("joinRoom",t,(function(e){console.log(e),n(e)}))}))},playVideo:function(t){e.current.emit("onVideoPlay",t)},setPlayerUrl:function(t){e.current.emit("setUrl",t)}}},w=(n(99),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABq0lEQVR4Ae3WAYTCYBiH8cMQDiEMAQJAgEPAAQKEQzgECAHCEAIcQhgCBAghhHAIIQQIIYQhhBCG9x4cdwZr+959G/bwA8DLf/a9lKlVVlZHDz6W2OH8a4sFpuiihkJUhYctJIEQGwxQgfUqGOIGMRSgBwdWauMCUXbEGzLNg2QoxCfUe8UcYsmX9qQWEMs4QqcRJBcKc+pAchSafNhVXCE5O8JB4saQgughUS4ekBRGCCGKgqR/7AkkFaJ3BBBFAzzdCZLKXy42ECUbPFUTYuB/juKkQtRsPBeiaU6qi9hW+geoTWqK2Pb6B6hNaoHYLvoHqE1qi9hE/wC1SZ2LdEAFPiSBC2ILLBzQwAGS0A6xHTI+4AN3SApLxLaGGNCcTJRv4RVqMBmlV2kLYkBzMlF1ULb/ArXJRGzxdDNISmqTifDwdA2D373iZADcUEWifEhBDJE4F3dIzi6oIFV9SM7aMGoGyYkH4xx8QyybQy3X8hELvEI1x9KcRsi0Pu4QZVd0YCUXPkKIoQfGqMJ6DcxSvp1OmMBFIWphjDUOCCI/oz1W8NBEWVmZQj/+9HEm7lAAHAAAAABJRU5ErkJggg==");function E(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"container-fluid",children:Object(f.jsxs)("div",{className:"row p-0",children:[Object(f.jsx)("div",{className:"col-lg-4  p-0",children:Object(f.jsx)(R,{})}),Object(f.jsx)("div",{className:"col-lg-8 p-0   d-flex align-items-center",style:{backgroundColor:"#121212b0"},children:Object(f.jsx)(B,{})})]})})})})}function B(){var e=N(),t=e.playVideo,n=e.setPlayerUrl,s=Object(c.useContext)(p).clientInfo,r=Object(c.useContext)(y).playState,o=Object(c.useContext)(A).url,a=Object(c.useRef)(),l=Object(c.useRef)();return console.log(a.current),Object(f.jsxs)(f.Fragment,{children:[o&&Object(f.jsx)("div",{style:{height:"99vh",width:"100%"},children:Object(f.jsx)(h.a,{ref:a,width:"100%",height:"100%",url:o,controls:!1,playing:r,onPause:function(e){t({roomId:s.roomId,state:!1})},onPlay:function(e){t({roomId:s.roomId,state:!0})}})}),!o&&Object(f.jsx)("div",{style:{height:"99vh",width:"100%",display:"grid",placeItems:"center"},children:Object(f.jsxs)("div",{className:"d-flex flex-column",children:[Object(f.jsx)("input",{className:"p-2 form-control text-center",ref:l,type:"text",placeholder:"video url"}),Object(f.jsx)("div",{className:"p-4 d-flex justify-content-center",children:Object(f.jsx)("span",{className:"btn ",onClick:function(){n({roomId:s.roomId,url:l.current.value})},children:Object(f.jsx)("img",{src:w,alt:""})})})]})})]})}function k(){var e=Object(c.useContext)(p).setClientInfo,t=N().joinRoom,n=Object(c.useRef)(),s=Object(c.useRef)(),r=Object(c.useState)(!1),o=Object(d.a)(r,2),a=o[0],l=o[1],b=function(){var c=Object(u.a)(Object(i.a)().mark((function c(r){return Object(i.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:r.preventDefault(),t({name:s.current.value,roomId:n.current.value}).then((function(t){e((function(e){return Object(j.a)(Object(j.a)({},e),{},{name:t.name,roomId:t.roomId})})),l((function(e){return!e}))}));case 2:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return Object(f.jsx)("div",{style:{backgroundColor:"#f5f5f5",height:"100vh"},children:Object(f.jsx)("div",{class:"text-center signBody",children:Object(f.jsxs)("form",{class:"form-signin",children:[Object(f.jsx)("h1",{class:"h3 mb-3 font-weight-normal",children:"Join Ychat"}),Object(f.jsx)("label",{for:"inputEmail",style:{float:"left"},class:"sr-only",children:"Room ID"}),Object(f.jsx)("input",{type:"text",class:"form-control",id:"inputEmail","aria-describedby":"emailHelp",placeholder:"Enter Room Id",ref:n}),Object(f.jsx)("small",{id:"emailHelp",style:{display:"inline-block"},class:"form-text text-muted",children:"Ask your partner for room id if your joining"}),Object(f.jsx)("label",{for:"inputPassword",style:{float:"left"},class:"sr-only",children:"Name"}),Object(f.jsx)("input",{type:"text",class:"form-control",id:"inputPassword",placeholder:"Name",ref:s}),Object(f.jsxs)("button",{style:a?{pointerEvents:"none",opacity:"0.2"}:null,class:"btn btn-lg btn-primary btn-block",onClick:function(e){b(e)},children:[!a&&Object(f.jsx)("span",{children:"JOIN"}),a&&Object(f.jsxs)("span",{className:"d-flex align-items-center h4",children:[" ",Object(f.jsx)("span",{className:"p-2",children:"waiting for other to join "}),Object(f.jsx)("div",{class:"p-2 spinner-border",role:"status"})]})]})]})})})}function R(){var e=Object(c.useRef)(),t=Object(c.useContext)(p).clientInfo,n=Object(c.useContext)(g).messages,s=Object(c.useContext)(v).users,r=N().sendMessage;return console.log(s),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{style:{height:"99vh"},children:[Object(f.jsx)("div",{className:"topbar d-flex justify-content-lg-center align-items-center",children:s[0]&&s[0].map((function(e,t){return Object(f.jsx)("div",{className:"avatar m-2 text-uppercase",style:{backgroundColor:"black",color:"white",borderRadius:"50%",width:"50px",height:"50px",display:"grid",placeItems:"center"},children:e.name.substr(0,1)+e.name.substr(-1,1)},t)}))}),Object(f.jsx)("div",{className:"chatArea",children:n.map((function(e,n){return Object(f.jsx)("div",{className:"container-fluid p-2 d-flex  ".concat(t.name===e.name?"justify-content-end":"justify-content-start"),children:Object(f.jsx)("div",{className:"w-75 message p-2 m-2",children:Object(f.jsx)("h4",{style:(t.name,e.name,{wordBreak:"break-all"}),className:"text-wrap",children:e.message})})},n)}))}),Object(f.jsxs)("div",{className:"conatiner-fluid inputArea d-flex  justify-content-lg-around",style:{backgroundColor:"#1212124d",margin:"auto"},children:[Object(f.jsx)("input",{ref:e,className:"flex-grow-1 form-control m-3",type:"text",placeholder:"text here"}),Object(f.jsx)("button",{className:"btn btn-primary btn-sm m-auto",onClick:function(){r({roomId:t.roomId,message:e.current.value,name:t.name}),e.current.value=""},children:"SEND"})]})]})})}var U=function(){return Object(f.jsx)("div",{children:Object(f.jsxs)(a.a,{children:[Object(f.jsx)(l.a,{exact:!0,path:"/",children:Object(f.jsx)(k,{})}),Object(f.jsx)(l.a,{path:"/home",children:Object(f.jsx)(E,{})})]})})};o.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(C,{children:Object(f.jsx)(U,{})})}),document.getElementById("root"))},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},88:function(e,t){},99:function(e,t,n){}},[[118,1,2]]]);
//# sourceMappingURL=main.e8461a67.chunk.js.map